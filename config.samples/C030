From: Marc.Haber-lists@gmx.de (Marc Haber)
Date: Fri, 12 Nov 1999 10:52:21 GMT

I am currently configuring an exim for a site that will to mail
hosting for several domains. I want the domain holders to have control
over "their" alias files, being able to create their own aliases.
However, I don't want them to have postmaster, abuse and other role
accounts under their control.

Here are my directors:

local_roleaccount_aliases:
  driver = aliasfile
  include_domain = yes
  file = /etc/roleaccount_aliases
  search_type = lsearch

global_roleaccount_aliases:
  driver = aliasfile
  include_domain = no
  file = /etc/roleaccount_aliases
  search_type = lsearch

domain_aliases:
  driver = aliasfile
  requrie_files = /etc/domain_aliases/$domain
  file = /etc/domain_aliases/$domain
  search_type = lsearch

That way, I can have /etc/roleaccount_aliases say

abuse@some_hosted_domain: them@their_address.example.com
abuse:	me@my_address.example.com

If an address is mentioned in /etc/roleaccount_aliases, specifications
done in a domain alias file are ignored, e-mail to role accounts that
are not explicitly stated with domain in /etc/roleaccount_aliases goes
to me, and I can have role accounts for domains that I trust aliased
to their own administration.

Please note, however, that I use /etc/roleaccount_aliases as aliasfile
in two directors. One of them has include_domain = yes and the other
has include_domain = no. I believe this is the only way to have fully
qualified addresses _and_ unqualified "catch-all-domains" addresses in
a single alias file (having abuse@* with include_domain=yes doesn't
catch any addresses).

I don't know how exotic this setup is, but I believe it does what I
want. If other users need something like that, too, I think it would
be good to have a new option to the aliasfile director that makes that
director catch qualified and unqualified addresses.

If the FAQ maintainer finds it useful, I agree to have the setup
mentioned above put into the FAQ as a recipe.


Date: Mon, 04 Oct 1999 11:55:46 -0300
From: Patrick Boutilier <boutilpj@ednet.ns.ca>

As promised here is the way I got Exim to delver to Cyrus mailboxes if
the user exists in the MySql database.


# This transport is for Cyrus

local_delivery_cyrus:
  driver = pipe
  command = "/usr/cyrus/bin/deliver -m ${substr_1:${local_part_suffix}}
-- ${local_part}"
  user = cyrus
  group = mail
  return_output
  log_output
  prefix =
  suffix =


# This director checks if the alias is valid

mysql_system_aliases:
  driver = aliasfile
  search_type = mysql
  query = "select userid from user where aliasid='$local_part'"



# This director matches local Cyrus mailboxes

local_user_cyrus:
  driver = aliasfile
  search_type = mysql
  query = "select userid from user where userid='$local_part'"
  transport = local_delivery_cyrus



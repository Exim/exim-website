From: Andromeda <andromeda@htmlworkshop.com>
Date: Sun, 15 Nov 1998 23:24:10 +0200

Herewith my configuration:

######################################################################
#                  Runtime configuration file for Exim               #
######################################################################


# This is a default configuration file which will operate correctly in
# uncomplicated installations. Please see the manual for a complete list
# of all the runtime configuration options.


# This file is divided into several parts, all but the last of which are
# terminated by a line containing the word "end". The parts must appear
# in the correct order, and all must be present (even if some of them are
# in fact empty). Blank lines, and lines starting with # are ignored.

deliver_load_max = 5.0
return_size_limit  =  10k
auto_thaw = 2h
message_filter_user = exim 
exim_user = exim
exim_path = /usr/exim/bin/exim

# Let's fix this gecos thing -- Siviwe (28/06/97)
gecos_pattern="([^,]*)"
gecos_name=$1

# implement complete sender and recipient verification, including fixups.

sender_verify
sender_verify_reject
sender_verify_fixup
receiver_verify

# allow IP addresses to connect

log_ip_options
no_refuse_ip_options

# implement some anti-spam (RBL) - Andromeda 27/02/98

rbl_domains = rbl.maps.vix.com
rbl_reject_recipients

# implement virtual domain mail relay - Andromeda 6/10/98

sender_address_relay = "partial-lsearch;/usr/exim/local/localdomains"

# implement customised SMTP welcome banner - Andromeda 10/11/98

smtp_banner = "Welcome! This system does not accept Unsolicited \
      Commercial Email and will\nblacklist offenders through RBL and our \
      internal list. Have a nice day!\n\n${primary_hostname} ESMTP Exim \
      ${version_number} ${tod_full}"

# implement sender blacklisting using rejection lists - Andromeda 11/11/98
# also implement a feedback mechanism for un-blacklisting

sender_reject_recipients = "@@lsearch;/usr/exim/local/blacklist"
recipients_reject_except = "@@lsearch;/usr/exim/local/blacklist-except"

sender_host_reject_recipients = "+allow_unknown: \
                                lsearch;/usr/exim/local/hosts-blacklist"

# future implementations for specific spamming hosts and nets
#
#sender_host_reject_except = "/usr/exim/local/hosts-except"
#sender_net_reject_except = /usr/exim/local/nets-except
#

# implement customised SMTP error rejection messages

prohibition_message =
"$prohibition_reason|${lookup{$prohibition_reason}lsearch\
  {/usr/exim/reject.messages}{$value}}"

######################################################################
#                    MAIN CONFIGURATION SETTINGS                     #
######################################################################

# Specify your host's canonical name here. If this option is not set, the
# uname() function is called to obtain the name.

# primary_hostname =

# Specify the domain you want to be added to all unqualified addresses
# here. If this option is not set, the primary_hostname value is used.
qualify_domain = eons.net

# If you want unqualified recipient addresses to be qualified with a different
# domain to unqualified sender addresses, specify the recipient domain here.
# If this option is not set, the qualify_domain value is used.

# qualify_recipient =

# Specify your local domains as a colon-separated list here. If this option
# is not set, the qualify_recipient value is used as the only local domain.
# If you do not want to do any local deliveries, uncomment the following line,
# but do not supply any data for it.

local_domains = "eons.net:fusion.eons.net:mail.eons.net:\
	       lsearch;/usr/exim/aliases/domains"

# No local deliveries will ever be run under the uids of these users.

#never_users = root

# If you are running Exim under its own uid (recommended), then you should
# set up that uid as a trusted user by de-commenting the following and
# changing the name if necessary.

trusted_users = exim:majordom

end



######################################################################
#                      TRANPORTS CONFIGURATION                       #
######################################################################

# This transport is used for local delivery to user mailboxes.

local_delivery:
  driver = appendfile;
  file = /var/spool/mail/${local_part}

# This transport is used for handling pipe addresses generated by alias
# or .forward files. It has a conventional name, since it is not actually
# mentioned elsewhere in this configuration file.

address_pipe:
  driver = pipe;
  ignore_status,
  user = majordom,
  return_output

# This transport is used for handling file addresses generated by alias
# or .forward files. It has a conventional name, since it is not actually
# mentioned elsewhere in this configuration file.

address_file:
  driver = appendfile;
  user = majordom

# This transport is used for handling autoreplies generated by the filtering
# option of the forwardfile director. It has a conventional name, since it
# is not actually mentioned elsewhere in this configuration file.

address_reply:
  driver = autoreply

# This transport is used for delivering messages over SMTP connections.

smtp:
  driver = smtp;

end



######################################################################
#                      DIRECTORS CONFIGURATION                       #
######################################################################

# This director handles aliasing using a traditional /etc/aliases file.

system_aliases:
  except_domains = "lsearch;/usr/exim/aliases/domains"
  driver = aliasfile;
  file = /etc/aliases,
  search_type = lsearch

# This director handles forwarding using traditional .forward files.
# If you want it also to allow mail filtering when a forward file
# starts with the string "# Exim filter", uncomment the "filter" option.
# Note the except_domains part - needed for the virtual hosts...

userforward:
  except_domains = "lsearch;/usr/exim/aliases/domains"
  no_verify,
  driver = forwardfile;
  file = .forward,
# filter

# This director matches local user mailboxes.

localuser:
  except_domains = "lsearch;/usr/exim/aliases/domains"
  driver = localuser,
  transport = local_delivery;

# This director matches local virtual hosts

virtual:
  domains = "lsearch;/usr/exim/aliases/domains",
  driver = aliasfile,
  no_more;
  file = /usr/exim/aliases/$domain-aliases,
  search_type = lsearch

end



######################################################################
#                      ROUTERS CONFIGURATION                         #
######################################################################

#route_append:
#  driver = domainlist,
#  transport = smtp;
#

# This router routes to remote hosts over SMTP using a DNS lookup with
# default options.

lookuphost:
  driver = lookuphost,
  transport = smtp;

# This router routes to remote hosts over SMTP by explicit IP address,
# given as a "domain literal" in the form [nnn.nnn.nnn.nnn]. The RFCs
# require this facility, which is why it is enabled by default in Exim.
# If you want to lock it out, set forbid_domain_literals in the main
# configuration section above.

literal:
  driver = ipliteral,
  transport = smtp;

end



######################################################################
#                      RETRY CONFIGURATION                           #
######################################################################

# This single retry rule applies to all domains and all errors. It specifies
# retries every 2 minutes for 2 hours, then increasing retry intervals,
# starting at 2 hours and increasing each time by a factor of 1.5, up to 16
# hours, then retries every 8 hours until 4 days have passed since the first
# failed delivery.

# Domain               Error       Retries
# ------               -----       -------

*                      *           F,2h,2m; G,16h,2h,1.5; F,4d,8h

end



######################################################################
#                      REWRITE CONFIGURATION                         #
######################################################################
#   <source pattern>  <replacement>  <flags>

# End of Andromeda Exim configuration file
